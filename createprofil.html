<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>STICKMOON - Cr√©er Profil</title>
<style>
  :root{
    --bg:#f4f5fb;
    --card:#ffffff;
    --accent:#6a3be0;
    --muted:#6e6e7a;
    --radius:14px;
  }

  body{
    margin:0;
    font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
    background:linear-gradient(180deg,var(--bg),#fff);
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    padding:16px;
  }

  .card{
    background:var(--card);
    border-radius:var(--radius);
    box-shadow:0 8px 20px rgba(0,0,0,0.08);
    padding:24px;
    width:100%;
    max-width:420px;
    text-align:center;
    position:relative;
    overflow:hidden;
  }

  /* Barre de progression */
  .progress-container{
    width:100%;
    height:6px;
    background:rgba(106,59,224,0.1);
    border-radius:10px;
    margin-bottom:18px;
    overflow:hidden;
  }

  .progress-bar{
    width:66%; /* √âtape 4 sur 6 ‚âà 66% */
    height:6px;
    background:var(--accent);
    border-radius:10px;
    transition:width 0.4s ease;
  }

  .step-text{
    font-size:13px;
    color:var(--muted);
    text-align:right;
    margin-bottom:10px;
  }

  h1{
    color:var(--accent);
    font-weight:900;
    margin-bottom:20px;
  }

  .field{
    text-align:left;
    margin-bottom:14px;
  }

  label{
    font-size:13px;
    color:var(--muted);
    margin-bottom:4px;
    display:block;
  }

  input[type="text"], input[type="email"]{
    width:100%;
    padding:10px 12px;
    border-radius:10px;
    border:1px solid rgba(0,0,0,0.08);
    font-size:15px;
    background:rgba(255,255,255,0.6);
  }

  input[type="file"]{
    display:none;
  }

  .upload{
    border:2px dashed rgba(106,59,224,0.3);
    border-radius:10px;
    padding:16px;
    cursor:pointer;
    color:var(--muted);
    font-size:14px;
    transition:0.25s;
    text-align:center;
  }

  .upload:hover{
    background:rgba(106,59,224,0.05);
  }

  img.preview{
    width:100%;
    border-radius:10px;
    margin-top:10px;
    display:none;
  }

  button{
    width:100%;
    background:var(--accent);
    color:white;
    border:none;
    padding:12px;
    border-radius:10px;
    font-weight:700;
    font-size:16px;
    cursor:pointer;
    transition:0.25s;
    margin-top:12px;
  }

  button:hover{
    background:#7c54ee;
  }

  .muted{
    color:var(--muted);
    font-size:13px;
    margin-top:10px;
  }
</style>
</head>
<body>

<div class="card">
  <div class="step-text">√âtape 4 sur 6</div>
  <div class="progress-container">
    <div class="progress-bar"></div>
  </div>

  <h1>Compl√©tez votre profil üë§</h1>

  <div class="field">
    <label>Nom d‚Äôutilisateur</label>
    <input type="text" id="username" placeholder="Ex: John Doe">
  </div>

  <div class="field">
    <label>Gmail de contact</label>
    <input type="email" id="contact" placeholder="Ex: johndoe@gmail.com">
  </div>

  <div class="field">
    <label>Photo de profil</label>
    <label class="upload" for="photo">üì∑ Choisir une photo</label>
    <input type="file" id="photo" accept="image/*" onchange="previewImage(this,'photoPreview')">
    <img id="photoPreview" class="preview">
  </div>

  <div class="field">
    <label>Photo de couverture</label>
    <label class="upload" for="cover">üñºÔ∏è Choisir une image</label>
    <input type="file" id="cover" accept="image/*" onchange="previewImage(this,'coverPreview')">
    <img id="coverPreview" class="preview">
  </div>

  <button onclick="saveProfile()">Continuer</button>
  <div class="muted">Vos infos seront utilis√©es pour personnaliser votre exp√©rience üí´</div>
</div>

<script>
function previewImage(input, id){
  const file = input.files[0];
  const img = document.getElementById(id);
  if(file){
    const reader = new FileReader();
    reader.onload = e => {
      img.src = e.target.result;
      img.style.display = 'block';
    };
    reader.readAsDataURL(file);
  }
}

function saveProfile(){
  const username = document.getElementById('username').value.trim();
  const contact = document.getElementById('contact').value.trim();
  const photo = document.getElementById('photoPreview').src;
  const cover = document.getElementById('coverPreview').src;

  if(!username || !contact){
    alert("Veuillez remplir tous les champs !");
    return;
  }

  const user = JSON.parse(localStorage.getItem('stickmoon_user')) || {};
  user.profil = { username, contact, photo, cover };
  localStorage.setItem('stickmoon_user', JSON.stringify(user));

  alert("Profil sauvegard√© avec succ√®s üéâ");
  window.location.href = "accueil.html";
}
</script>

</body>
</html>